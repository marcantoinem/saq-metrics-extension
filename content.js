(function(){"use strict";const i=class i{constructor(r,t,n){this.volume=r,this.price=t,this.alcoholRate=n}getPriceWithTax(){const r=this.price*i.TAX_RATE;return this.price+r}getPricePerLiterOfAlcohol(){const r=this.getPriceWithTax(),t=this.volume*(this.alcoholRate/100)/1e3;return t>0?r/t:0}getPricePerLiter(){const r=this.getPriceWithTax(),t=this.volume/1e3;return t>0?r/t:0}};i.TAX_RATE=.14975,i.BEER_TAX=.63,i.NON_BEER_TAX=1.4;let c=i;function s(e){const t=e.replace(/[$\s]/g,"").replace(",",".");return parseFloat(t)}function u(){const e=document.querySelector("span.price");return e&&e.textContent||""}function h(){const e=document.querySelector(`strong[data-th="DegrÃ© d'alcool"]`);return e&&e.textContent||""}function p(e){const t=e.replace(/[%\s]/g,"").replace(",",".");return parseFloat(t)}function o(e){return e.toFixed(2)}function d(){const e=document.querySelector("div.product.attribute.format > span.value > strong.type");if(e){const t=(e.textContent?.trim()||"").match(/([\d,.]+)\s*(ml|l)?/i);if(t){const n=t[1].replace(",","."),a=parseFloat(n);return t[2]?.toLowerCase()==="l"?Math.round(a*1e3):Math.round(a)}}return 0}function P(e){return o(e)+" $ TTC"}function f(e){return o(e)+" $/L d'alcool"}function g(e){return o(e)+" $/L"}function m(e){const r=document.querySelector("div.product-info-price");if(r){const t=document.createElement("div");t.className="price-with-tax",t.textContent=`${e}`,r.appendChild(t)}}function T(e){const r=document.querySelector("div.product-info-price");if(r){const t=document.createElement("div");t.className="price-per-liter-of-alcohol",t.textContent=`${e}`,r.appendChild(t)}}function v(e){const r=document.querySelector("div.product-info-price");if(r){const t=document.createElement("div");t.className="price-per-liter",t.textContent=`${e}`,r.appendChild(t)}}function l(){return document.querySelector("div.product.info.container")!==null}let x=l()?"This is a product page.":"This is not a product page.";if(console.log(x),l()===!0){let e=new c(d(),s(u()),p(h()));o(e.getPriceWithTax()),o(e.getPricePerLiterOfAlcohol()),o(e.getPricePerLiter()),isNaN(e.getPriceWithTax())&&console.error("Error: Price with tax is NaN. Please check the price format on the page."),isNaN(e.getPricePerLiterOfAlcohol())&&console.error("Error: Price per liter of alcohol is NaN. Please check the alcohol rate format on the page."),isNaN(e.getPricePerLiter())&&console.error("Error: Price per liter is NaN. Please check the volume format on the page."),m(P(e.getPriceWithTax())),T(f(e.getPricePerLiterOfAlcohol())),v(g(e.getPricePerLiter()))}})();
